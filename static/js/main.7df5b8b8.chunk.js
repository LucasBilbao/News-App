(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{37:function(e,t,r){},69:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(15),a=r.n(n),i=(r(37),r(2)),s=r(7),l=r(16),o=r.n(l),j=r.p+"static/media/img-placeholder.b52c2739.jpg",d=r(1);var u=function(e){var t=e.articles,r=e.loading,c=e.error,n=Object(i.g)().id;return r?Object(d.jsx)(o.a,{css:{display:"flex",width:"100%",justifyContent:"center",marginTop:"100px"},color:"#7ebffb",loading:r,size:25}):c?Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)("h1",{style:{color:"white",width:"100%",textAlign:"center"},children:c}),";"]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(s.b,{to:"/News-App/",className:"back",children:Object(d.jsx)("button",{children:"Back"})}),Object(d.jsx)("div",{className:"wrapper",children:t.filter((function(e){return e.title===decodeURI(n)})).map((function(e){return Object(d.jsxs)("div",{className:"article",children:[Object(d.jsx)("h1",{"data-test":"article-title",children:e.title}),e.image?Object(d.jsx)("img",{src:e.image,alt:"loading..."}):Object(d.jsx)("img",{src:j}),Object(d.jsx)("p",{children:e.content})]},e.url)}))})]})};var b=function(){return Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{"data-test":"header-title",className:"title",children:"PewNews"}),Object(d.jsx)("h2",{"data-test":"header-subtitle",className:"subtitle",children:"NEWS"})]})},h=r(4);var O=function(){var e=Object(h.c)((function(e){return e.articles})).articles,t=Object(h.c)((function(e){return e.filters})).filters,r=Object(h.b)(),c=function(e){e.target.classList.toggle("activated"),!function(e,t){return e.target.classList.contains(t)}(e,"activated")?r(function(e){return{type:"UNFILTER",payload:e}}(e.target.innerHTML)):r(function(e){return{type:"FILTER",payload:e}}(e.target.innerHTML))},n=function(e){if(!Array.isArray(e))throw new Error("".concat(e," should be an array"));var t=e.map((function(e){return e.source.name}));return t=t.filter((function(e,r){return t.indexOf(e)===r}))}(e);return Object(d.jsx)("nav",{children:Object(d.jsx)("ul",{className:"domains",children:n.map((function(e){return Object(d.jsx)("li",{className:t.includes(e)?"activated":"",onClick:c,children:e},e)}))})})};var f=function(){var e=Object(h.b)();return Object(d.jsx)("div",{className:"search",children:Object(d.jsxs)("form",{"data-test":"search-form",action:"submit",onSubmit:function(t){t.preventDefault();var r=t.target.firstChild.value;e(""!==r?{type:"INSERT_SEARCH",payload:r}:{type:"CLEAR_SEARCH"}),t.target.firstChild.value=""},children:[Object(d.jsx)("input",{"data-test":"form-input",type:"text",placeholder:"Title",className:"search-bar"}),Object(d.jsx)("button",{"data-test":"form-button",className:"search-btn",children:"Search"})]})})};var p=function(){return Object(d.jsx)("div",{className:"navigation",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(O,{}),Object(d.jsx)(f,{})]})})};function x(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),r=new Intl.DateTimeFormat("en",{month:"short"}).format(e),c=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(r," ").concat(c,", ").concat(t)}function m(e){return!!Array.isArray(e)&&0==e.length}var v=function(e){var t=e.articles,r=0,c=Object(h.c)((function(e){return e.filters})).filters,n=Object(h.c)((function(e){return e.title})).title;return Object(d.jsxs)("div",{"data-test":"component-article",children:[t.filter((function(e){return m(c)?e:!!c.includes(e.source.name)||(r+=1,!1)})).filter((function(e){return""===n?e:!!e.title.toLowerCase().includes(n.toLowerCase())||(r+=1,!1)})).map((function(e,t){return Object(d.jsxs)("article",{children:[Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("p",{children:e.source.name}),Object(d.jsx)("p",{children:x(new Date(e.publishedAt))})]}),e.image?Object(d.jsx)("img",{src:e.image,alt:"loading...",onError:function(e){e.target.src=j}}):Object(d.jsx)("img",{src:j}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{"data-test":"article-title",children:e.title}),Object(d.jsx)("p",{"data-test":"article-description",children:e.description}),Object(d.jsx)(s.b,{to:"/News-App/article/".concat(e.title),children:"Read More"})]})]},t)})),r===t.length&&Object(d.jsx)("h1",{style:{color:"white"},children:"There are no articles..."})]})};var g=function(e){var t=e.articles,r=e.loading,c=e.error,n=Object(h.c)((function(e){return e.filters})).filters,a=Object(h.c)((function(e){return e.title})).title;return r?Object(d.jsx)(o.a,{css:{display:"flex",width:"100%",justifyContent:"center"},color:"#7ebffb",loading:r,size:25}):c?Object(d.jsx)("h1",{"data-test":"error",style:{color:"white"},children:c}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{"data-test":"searched-title",style:{color:"white"},children:["Titles:"," ",""===a?Object(d.jsx)("span",{style:{color:"#c6ff50"},children:"All"}):"".concat(a)]}),Object(d.jsxs)("p",{"data-test":"searched-sources",style:{color:"white"},children:["Sources:"," ",m(n)?Object(d.jsx)("span",{style:{color:"#c6ff50"},children:"All"}):"".concat(n)]}),Object(d.jsx)(v,{articles:t})]})};var y=function(e){var t=e.articles,r=e.loading,c=e.error;return Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("main",{children:Object(d.jsx)(g,{articles:t,error:c,loading:r})})})};var w=function(e){var t=e.articles,r=e.loading,c=e.error;return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{}),Object(d.jsx)(p,{}),Object(d.jsx)(y,{articles:t,error:c,loading:r})]})};var E=function(){return Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("h1",{style:{color:"white",width:"100%",textAlign:"center",marginTop:"50px"},children:"Error 404: could not find page!"})})},C=r(18),T=r.n(C),N=r(28),R=r(29),A=r.n(R);var S=function(){return Object(d.jsx)("footer",{children:Object(d.jsx)("p",{children:"\xa9 Copyright GNews"})})};var L=function(){var e=Object(h.c)((function(e){return e.articles})),t=e.articles,r=e.error,n=e.loading,a=Object(h.b)();return Object(c.useEffect)((function(){a(function(){var e=Object(N.a)(T.a.mark((function e(t){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"FETCH_ARTICLES"}),e.next=4,A.a.get("https://gnews.io/api/v4/top-headlines?lenguage=en&country=us&token=".concat("b926fccac30a93558e255833c13e85da"));case 4:r=e.sent,setTimeout((function(){t({type:"FETCH_ARTICLES_SUCCESS",payload:r.data.articles})}),1e3),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"FETCH_ARTICLES_ERROR",payload:"An error has occured while fetching the data"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(d.jsxs)("div",{children:[Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/News-App/",exact:!0,element:Object(d.jsx)(w,{articles:t,error:r,loading:n})}),Object(d.jsx)(i.a,{path:"/News-App/article/:id",element:Object(d.jsx)(u,{articles:t,error:r,loading:n})}),Object(d.jsx)(i.a,{path:"*",element:Object(d.jsx)(E,{})})]}),Object(d.jsx)(S,{})]})},I=r(10),_=r(31),F=r(3),H="FETCH_ARTICLES",k="FETCH_ARTICLES_SUCCESS",D="FETCH_ARTICLES_ERROR",U={articles:[],loading:!1,error:null},M=r(32),z="FILTER",B="UNFILTER",J={filters:[]},W="INSERT_SEARCH",G="CLEAR_SEARCH",P={title:""};var q=Object(I.combineReducers)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(F.a)(Object(F.a)({},e),{},{loading:!0,error:null,articles:[]});case k:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:null,articles:t.payload});case D:return Object(F.a)(Object(F.a)({},e),{},{loading:!1,error:t.payload,articles:[]});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(F.a)(Object(F.a)({},e),{},{filters:[].concat(Object(M.a)(e.filters),[t.payload])});case B:return Object(F.a)(Object(F.a)({},e),{},{filters:e.filters.filter((function(e){return e!==t.payload}))});default:return e}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(F.a)(Object(F.a)({},e),{},{title:t.payload});case G:return Object(F.a)(Object(F.a)({},e),{},{title:""});default:return e}}}),K=r(30),Q=Object(I.createStore)(q,Object(K.composeWithDevTools)(Object(I.applyMiddleware)(_.a)));a.a.render(Object(d.jsx)(s.a,{children:Object(d.jsx)(h.a,{store:Q,children:Object(d.jsx)(L,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.7df5b8b8.chunk.js.map